import{d as Be,a as Me,c as Pe,r as p,w as re,o as Fe,E as h,x as Ne,D as _,K as Ee,L as ie,g as c,h as t,l as $,M as de,q as ee,N as ce,O as Le,p as q,n as H,j as A,z as r,F as N,t as z,i as ue,C as E,v as d,y as te,_ as qe}from"./index-lJ9Ej1SP.js";import{u as ze}from"./wallet-dj8lCc0G.js";const Ue={class:"orders-container"},Ye={class:"orders-layout"},Qe={class:"sidebar"},je={class:"main-content"},We={class:"filter-bar"},Re={class:"search-container"},He={key:0,class:"loading"},Ke={key:1,class:"no-orders"},Ge={key:2,class:"orders-list"},Je={key:0},Xe={class:"section-controls"},Ze={class:"select-all-container"},et={class:"left-section"},tt={class:"select-all-checkbox"},st=["checked"],at={key:0,class:"selected-count"},ot={key:0,class:"right-section"},nt={class:"order-summary-inline"},lt={class:"total-items-count"},rt={class:"total-amount"},it={class:"orders-section"},dt={class:"orders-grid"},ct={class:"order-header"},ut={class:"order-checkbox"},vt=["checked","onChange"],pt={class:"order-info"},ht={class:"order-number"},gt={class:"order-date"},mt={key:0,class:"order-countdown"},_t={class:"countdown-timer"},ft={class:"order-items"},yt={class:"item-details"},bt={class:"author"},wt={class:"quantity-price"},kt={class:"order-footer"},Ct={class:"order-total"},xt={class:"order-actions"},Ot=["onClick"],Tt=["onClick"],At={class:"pagination-container"},$t={key:1},St={class:"orders-section"},Dt={class:"orders-grid"},It={class:"order-header"},Vt={class:"order-info"},Bt={class:"order-number"},Mt={class:"order-date"},Pt={class:"order-items"},Ft={class:"item-details"},Nt={class:"author"},Et={class:"quantity-price"},Lt={class:"order-footer"},qt={class:"order-total"},zt={class:"order-actions"},Ut=["onClick"],Yt={class:"pagination-container"},Qt={key:0,class:"loading-detail"},jt={key:1,class:"order-detail-content"},Wt={class:"detail-header"},Rt={class:"detail-row"},Ht={class:"detail-value"},Kt={class:"detail-row"},Gt={class:"detail-value"},Jt={class:"detail-row"},Xt={class:"detail-value status-{{ orderDetail.status }}"},Zt={class:"detail-body"},es={class:"order-items-table"},ts={class:"detail-footer"},ss={class:"total-amount"},as={class:"amount-value"},os={class:"dialog-footer"},ns=5*60,ls=Be({__name:"Orders",setup(rs){const U=Ne(),w=Me(),k=ze(),C=Pe(),m=p([]),f=p(!0),S=p(""),D=p(""),I=p(""),v=p("pending"),i=p([]),V=p(!1),x=p(9),O=p(1),T=p(1),L=p(0),Y=p(0),B=p(null),Q=p(!1),K=p(!1),y=p(null),ve=p(0);re(()=>v.value,s=>{f.value=!0,s==="pending"?(O.value=1,M().then(()=>{f.value=!1}).catch(()=>{f.value=!1})):s==="completed"&&(T.value=1,P().then(()=>{f.value=!1}).catch(()=>{f.value=!1})),i.value=[],V.value=!1}),Fe(async()=>{if(!w.isLoggedIn){console.error("è¯·å…ˆç™»å½•"),f.value=!1,h.warning("è¯·å…ˆç™»å½•åŽæŸ¥çœ‹è®¢å•"),U.push("/login");return}try{f.value=!0,await _.post("https://smart-book-city.onrender.com/api/orders/check-overdue"),await M(),await P(),f.value=!1,await C.updatePendingOrdersCount(),ge()}catch(s){console.error("èŽ·å–è®¢å•å¤±è´¥:",s),f.value=!1,m.value=[],h.error(`èŽ·å–è®¢å•å¤±è´¥: ${s.message||s}`)}}),Ee(()=>{me()});const M=async()=>{var s;try{await _.post("https://smart-book-city.onrender.com/api/orders/check-overdue");const e=await _.get(`https://smart-book-city.onrender.com/api/orders/user/${(s=w.user)==null?void 0:s.id}`);if(e.data&&Array.isArray(e.data)){const n=e.data.filter(F=>oe(F.status)).filter(F=>F.status===0);L.value=n.length,C.pendingOrdersCount=n.length;const l=Math.ceil(n.length/x.value)||1;O.value>l&&(O.value=l);const g=(O.value-1)*x.value,o=g+x.value,u=n.slice(g,o);v.value==="pending"&&(m.value=u),console.log("å½“å‰é¡µçš„å¾…ä»˜æ¬¾è®¢å•æ•°æ®:",u)}else if(e.data&&e.data.orders){const a=e.data.orders.filter(n=>n.status===0);v.value==="pending"&&(m.value=a),L.value=e.data.total,C.pendingOrdersCount=L.value,console.log("ä»Žåˆ†é¡µAPIèŽ·å–åˆ°å¾…ä»˜æ¬¾è®¢å•æ•°æ®:",a)}else console.warn("åŽç«¯è¿”å›žçš„è®¢å•æ•°æ®æ ¼å¼ä¸æ­£ç¡®"),v.value==="pending"&&(m.value=[]),C.pendingOrdersCount=0}catch(e){console.error("åŠ è½½å¾…ä»˜æ¬¾è®¢å•å¤±è´¥:",e)}},P=async()=>{var s,e;try{console.log("å¼€å§‹åŠ è½½å·²å®Œæˆè®¢å•ï¼Œç”¨æˆ·ID:",(s=w.user)==null?void 0:s.id);const a=await _.get(`https://smart-book-city.onrender.com/api/orders/user/${(e=w.user)==null?void 0:e.id}`);if(console.log("èŽ·å–åˆ°çš„æ‰€æœ‰è®¢å•æ•°æ®:",a.data),a.data&&Array.isArray(a.data)){const l=a.data.filter(Z=>oe(Z.status)).filter(Z=>X(Z.status));console.log("è¿‡æ»¤åŽçš„å·²å®Œæˆè®¢å•:",l),Y.value=l.length;const g=Math.ceil(l.length/x.value)||1;T.value>g&&(T.value=g);const o=(T.value-1)*x.value,u=o+x.value,F=l.slice(o,u);v.value==="completed"&&(m.value=F),console.log("å½“å‰é¡µçš„å·²å®Œæˆè®¢å•æ•°æ®:",F)}else if(a.data&&a.data.orders){const n=a.data.orders.filter(l=>X(l.status));v.value==="completed"&&(m.value=n),Y.value=a.data.total,console.log("ä»Žåˆ†é¡µAPIèŽ·å–åˆ°å·²å®Œæˆè®¢å•æ•°æ®:",n)}else console.warn("åŽç«¯è¿”å›žçš„è®¢å•æ•°æ®æ ¼å¼ä¸æ­£ç¡®")}catch(a){console.error("åŠ è½½å·²å®Œæˆè®¢å•å¤±è´¥:",a)}},se=s=>s.filter(e=>{if(!S.value&&!D.value&&!I.value)return!0;if(I.value)try{if(new Date(e.orderDate).toISOString().split("T")[0]!==I.value)return!1}catch(n){console.error("æ—¥æœŸæ ¼å¼è½¬æ¢é”™è¯¯:",n)}const a=e.orderItems||e.items||[];if(S.value){const n=S.value.toLowerCase();if(!a.some(g=>j(g).toLowerCase().includes(n)))return!1}if(D.value){const n=D.value.toLowerCase();if(!a.some(g=>W(g).toLowerCase().includes(n)))return!1}return!0}),b=ie(()=>{const s=m.value.filter(e=>e.status===0);return se(s)}),G=ie(()=>{const s=m.value.filter(e=>X(e.status));return se(s)}),pe=s=>{const e=new Date(s).getTime(),a=new Date().getTime(),n=Math.floor((a-e)/1e3),l=ns-n;return Math.max(l,0)},he=s=>{const e=Math.floor(s/60),a=s%60;return`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},ae=()=>{m.value.forEach(s=>{if(s.status===0){const e=pe(s.orderDate);s.remainingTime=e,s.countdownText=he(e),e<=0&&(h.warning({message:`è®¢å• ${s.orderNumber} å·²è¶…è¿‡5åˆ†é’Ÿæœªæ”¯ä»˜ï¼Œå·²è‡ªåŠ¨å–æ¶ˆ`,duration:1e3}),v.value==="pending"?M():P())}})},ge=()=>{B.value&&clearInterval(B.value),ae(),B.value=window.setInterval(()=>{ae()},1e3)},me=()=>{B.value&&(clearInterval(B.value),B.value=null)},J=s=>new Date(s).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),X=s=>typeof s=="number"?s===1:s==="completed",oe=s=>typeof s=="number"?s===0||s===1:s==="pending"||s==="completed",j=s=>{var e;return s.bookTitle||((e=s.book)==null?void 0:e.title)||""},W=s=>{var e;return s.bookAuthor||((e=s.book)==null?void 0:e.author)||""},R=s=>{var e;return s.price||((e=s.book)==null?void 0:e.price)||0},_e=s=>(s.orderItems||s.items||[]).reduce((a,n)=>a+n.quantity,0),fe=()=>{U.push("/home")},ye=()=>v.value==="pending"?"æš‚æ— å¾…ä»˜æ¬¾è®¢å•":"æš‚æ— å·²å®Œæˆè®¢å•",be=s=>{const e=m.value.find(a=>a.id===s);if(!e){h.error("è®¢å•ä¸å­˜åœ¨");return}E.confirm(`ç¡®å®šè¦ä½¿ç”¨è´¦æˆ·ä½™é¢æ”¯ä»˜æ­¤è®¢å•å—ï¼Ÿè®¢å•é‡‘é¢: Â¥${e.totalAmount.toFixed(2)}`,"è®¢å•æ”¯ä»˜",{confirmButtonText:"åŽ»æ”¯ä»˜",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var a,n;try{if(await k.fetchWallet(),k.balance<e.totalAmount){E.alert(`è´¦æˆ·ä½™é¢ä¸è¶³ï¼Œå½“å‰ä½™é¢: Â¥${k.balance.toFixed(2)}ï¼Œéœ€è¦: Â¥${e.totalAmount.toFixed(2)}`,"ä½™é¢ä¸è¶³",{confirmButtonText:"åŽ»å……å€¼",callback:()=>{U.push("/wallet")}});return}await k.payOrder(s),h.success({message:"æ”¯ä»˜æˆåŠŸ",duration:1e3});const l=await _.get(`https://smart-book-city.onrender.com/api/orders/user/${(a=w.user)==null?void 0:a.id}`);if(l.data&&Array.isArray(l.data)){m.value=l.data;const g=l.data.filter(o=>o.status===0);C.pendingOrdersCount=g.length}}catch(l){console.error("æ”¯ä»˜å¤±è´¥:",l),h.error(((n=l.response)==null?void 0:n.data)||"æ”¯ä»˜å¤±è´¥")}}).catch(()=>{})},we=s=>{const e=m.value.find(a=>a.id===s);if(!e){h.error("è®¢å•ä¸å­˜åœ¨");return}E.confirm(`ç¡®å®šè¦å–æ¶ˆæ­¤è®¢å•å—ï¼Ÿè®¢å•å·: ${e.orderNumber}`,"å–æ¶ˆè®¢å•",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var a,n;try{await _.put(`https://smart-book-city.onrender.com/api/orders/${s}/cancel`),h.success({message:"è®¢å•å·²å–æ¶ˆ",duration:1e3});const l=await _.get(`https://smart-book-city.onrender.com/api/orders/user/${(a=w.user)==null?void 0:a.id}`);if(l.data&&Array.isArray(l.data)){m.value=l.data;const g=l.data.filter(o=>o.status===0);C.pendingOrdersCount=g.length}}catch(l){console.error("å–æ¶ˆè®¢å•å¤±è´¥:",l),h.error(((n=l.response)==null?void 0:n.data)||"å–æ¶ˆè®¢å•å¤±è´¥")}}).catch(()=>{})},ke=async s=>{ve.value=s,Q.value=!0,K.value=!0,y.value=null;try{const e=[...b.value,...G.value].find(a=>a.id===s);if(e)y.value=e;else{const a=await _.get(`https://smart-book-city.onrender.com/api/orders/${s}`);a.data&&(y.value=a.data)}}catch(e){console.error("èŽ·å–è®¢å•è¯¦æƒ…å¤±è´¥:",e),h.error("èŽ·å–è®¢å•è¯¦æƒ…å¤±è´¥")}finally{K.value=!1}},Ce=s=>{if(typeof s=="number")switch(s){case 0:return"å¾…ä»˜æ¬¾";case 1:return"å·²å®Œæˆ";default:return"æœªçŸ¥çŠ¶æ€"}switch(s.toLowerCase()){case"pending":return"å¾…ä»˜æ¬¾";case"completed":return"å·²å®Œæˆ";default:return"æœªçŸ¥çŠ¶æ€"}},xe=s=>{const e=i.value.indexOf(s);e===-1?i.value.push(s):i.value.splice(e,1),ne()},ne=()=>{V.value=b.value.length>0&&i.value.length===b.value.length},Oe=()=>{V.value?i.value=[]:i.value=b.value.map(s=>s.id),V.value=!V.value},Te=()=>{if(i.value.length===0){h.warning("è¯·å…ˆé€‰æ‹©è¦å–æ¶ˆçš„è®¢å•");return}E.confirm(`ç¡®å®šè¦å–æ¶ˆé€‰ä¸­çš„ ${i.value.length} ä¸ªè®¢å•å—ï¼Ÿ`,"æ‰¹é‡å–æ¶ˆè®¢å•",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var s,e;try{await _.put("https://smart-book-city.onrender.com/api/orders/batch/cancel",i.value),h.success({message:`å·²æˆåŠŸå–æ¶ˆ ${i.value.length} ä¸ªè®¢å•`,duration:1e3}),i.value=[];const a=await _.get(`https://smart-book-city.onrender.com/api/orders/user/${(s=w.user)==null?void 0:s.id}`);if(a.data&&Array.isArray(a.data)){m.value=a.data;const n=a.data.filter(l=>l.status===0);C.pendingOrdersCount=n.length}}catch(a){console.error("æ‰¹é‡å–æ¶ˆè®¢å•å¤±è´¥:",a),h.error(((e=a.response)==null?void 0:e.data)||"æ‰¹é‡å–æ¶ˆè®¢å•å¤±è´¥")}}).catch(()=>{})},Ae=async()=>{if(i.value.length===0){h.warning("è¯·å…ˆé€‰æ‹©è¦æ”¯ä»˜çš„è®¢å•");return}const s=le();E.confirm(`ç¡®å®šè¦æ”¯ä»˜é€‰ä¸­çš„ ${i.value.length} ä¸ªè®¢å•å—ï¼Ÿæ€»é‡‘é¢: Â¥${s.toFixed(2)}`,"æ‰¹é‡æ”¯ä»˜è®¢å•",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var e,a;try{if(await k.fetchWallet(),k.balance<s){E.alert(`è´¦æˆ·ä½™é¢ä¸è¶³ï¼Œå½“å‰ä½™é¢: Â¥${k.balance.toFixed(2)}ï¼Œéœ€è¦: Â¥${s.toFixed(2)}`,"ä½™é¢ä¸è¶³",{confirmButtonText:"åŽ»å……å€¼",callback:()=>{U.push("/wallet")}});return}await k.batchPayOrders(i.value),h.success({message:"æ‰¹é‡æ”¯ä»˜æˆåŠŸ",duration:1e3}),i.value=[];const n=await _.get(`https://smart-book-city.onrender.com/api/orders/user/${(e=w.user)==null?void 0:e.id}`);if(n.data&&Array.isArray(n.data)){m.value=n.data;const l=n.data.filter(g=>g.status===0);C.pendingOrdersCount=l.length}}catch(n){console.error("æ‰¹é‡æ”¯ä»˜å¤±è´¥:",n),h.error(((a=n.response)==null?void 0:a.data)||"æ‰¹é‡æ”¯ä»˜å¤±è´¥")}}).catch(()=>{})},$e=()=>b.value.filter(e=>i.value.includes(e.id)).reduce((e,a)=>e+_e(a),0),le=()=>b.value.filter(e=>i.value.includes(e.id)).reduce((e,a)=>e+a.totalAmount,0);re(()=>b.value,()=>{i.value=i.value.filter(s=>b.value.some(e=>e.id===s)),ne()},{deep:!0});const Se=s=>{O.value=s,M()},De=s=>{T.value=s,P()},Ie=()=>{O.value=1,T.value=1,v.value==="pending"?M():P(),h.success({message:"æœç´¢æ¡ä»¶å·²åº”ç”¨",duration:1e3})},Ve=()=>{S.value="",D.value="",I.value="",O.value=1,T.value=1,v.value==="pending"?M():P(),h.success({message:"æœç´¢æ¡ä»¶å·²é‡ç½®",duration:1e3})};return(s,e)=>{const a=H("el-button"),n=H("el-empty"),l=H("el-pagination"),g=H("el-dialog");return d(),c(N,null,[t("div",Ue,[t("div",Ye,[t("div",Qe,[t("div",{class:de(["sidebar-item",{active:v.value==="pending"}]),onClick:e[0]||(e[0]=o=>v.value="pending")},e[7]||(e[7]=[t("span",{class:"sidebar-icon"}," ðŸ“‹ ",-1),t("span",{class:"sidebar-text"},"å¾…ä»˜æ¬¾è®¢å•",-1)]),2),t("div",{class:de(["sidebar-item",{active:v.value==="completed"}]),onClick:e[1]||(e[1]=o=>v.value="completed")},e[8]||(e[8]=[t("span",{class:"sidebar-icon"}," âœ… ",-1),t("span",{class:"sidebar-text"},"å·²å®Œæˆè®¢å•",-1)]),2)]),t("div",je,[t("div",We,[t("div",Re,[$(ee(ce),{modelValue:S.value,"onUpdate:modelValue":e[2]||(e[2]=o=>S.value=o),placeholder:"ä¹¦å",clearable:"",style:{width:"120px"}},null,8,["modelValue"]),$(ee(ce),{modelValue:D.value,"onUpdate:modelValue":e[3]||(e[3]=o=>D.value=o),placeholder:"ä½œè€…",clearable:"",style:{width:"120px"}},null,8,["modelValue"]),$(ee(Le),{modelValue:I.value,"onUpdate:modelValue":e[4]||(e[4]=o=>I.value=o),type:"date",placeholder:"ä¸‹å•æ—¥æœŸ","value-format":"YYYY-MM-DD",style:{width:"120px"}},null,8,["modelValue"]),t("button",{onClick:Ie,class:"search-btn"},"æœç´¢"),t("button",{onClick:Ve,class:"reset-btn"},"é‡ç½®")])]),f.value?(d(),c("div",He,e[9]||(e[9]=[t("p",null,"åŠ è½½ä¸­...",-1)]))):v.value==="pending"&&b.value.length===0||v.value==="completed"&&G.value.length===0?(d(),c("div",Ke,[$(n,{description:ye()},{default:q(()=>[$(a,{type:"primary",onClick:fe,class:"pure-btn"},{default:q(()=>e[10]||(e[10]=[te("åŽ»é¦–é¡µçœ‹çœ‹")])),_:1})]),_:1},8,["description"])])):(d(),c("div",Ge,[v.value==="pending"?(d(),c("div",Je,[t("div",Xe,[t("div",Ze,[t("div",et,[t("div",tt,[t("input",{type:"checkbox",id:"select-all",checked:V.value,onChange:Oe},null,40,st),e[11]||(e[11]=t("label",{for:"select-all"},"å…¨é€‰",-1))]),i.value.length>0?(d(),c("div",at," å·²é€‰æ‹© "+r(i.value.length)+" ä¸ªè®¢å• ",1)):A("",!0)]),i.value.length>0?(d(),c("div",ot,[t("div",nt,[t("span",lt,"å…± "+r($e())+" ä»¶å•†å“",1),t("span",rt,"æ€»è®¡: Â¥"+r(le().toFixed(2)),1)]),t("div",{class:"batch-buttons"},[t("button",{onClick:Te,class:"batch-delete-btn"}," æ‰¹é‡å–æ¶ˆ "),t("button",{onClick:Ae,class:"batch-pay-btn"}," æ‰¹é‡æ”¯ä»˜ ")])])):A("",!0)])]),t("div",it,[t("div",dt,[(d(!0),c(N,null,z(b.value,o=>(d(),c("div",{key:o.id,class:"order-card"},[t("div",ct,[t("div",ut,[t("input",{type:"checkbox",checked:i.value.includes(o.id),onChange:u=>xe(o.id)},null,40,vt)]),t("div",pt,[t("p",ht,"è®¢å•å·: "+r(o.orderNumber),1),t("p",gt,"ä¸‹å•æ—¶é—´: "+r(J(o.orderDate)),1)]),o.status===0?(d(),c("div",mt,[e[12]||(e[12]=t("span",{class:"countdown-text"},"å‰©ä½™æ”¯ä»˜æ—¶é—´: ",-1)),t("span",_t,r(o.countdownText||"30:00"),1)])):A("",!0)]),t("div",ft,[(d(!0),c(N,null,z(o.orderItems||o.items,u=>(d(),c("div",{key:u.id,class:"order-item"},[t("div",yt,[t("h3",null,r(j(u)),1),t("p",bt,r(W(u)),1),t("div",wt,[t("span",null,"æ•°é‡: "+r(u.quantity),1),t("span",null,"å•ä»·: Â¥"+r(R(u).toFixed(2)),1)])])]))),128))]),t("div",kt,[t("div",Ct," æ€»è®¡: Â¥"+r(o.totalAmount.toFixed(2)),1),t("div",xt,[t("button",{onClick:u=>we(o.id),class:"view-btn"}," å–æ¶ˆè®¢å• ",8,Ot),t("button",{onClick:u=>be(o.id),class:"pay-btn"}," åŽ»æ”¯ä»˜ ",8,Tt)])])]))),128))]),t("div",At,[L.value>0?(d(),ue(l,{key:0,background:"",layout:"prev, pager, next, jumper",total:L.value,"page-size":x.value,"current-page":O.value,onCurrentChange:Se},null,8,["total","page-size","current-page"])):A("",!0)])])])):A("",!0),v.value==="completed"?(d(),c("div",$t,[t("div",St,[t("div",Dt,[(d(!0),c(N,null,z(G.value,o=>(d(),c("div",{key:o.id,class:"order-card"},[t("div",It,[t("div",Vt,[t("p",Bt,"è®¢å•å·: "+r(o.orderNumber),1),t("p",Mt,"ä¸‹å•æ—¶é—´: "+r(J(o.orderDate)),1)])]),t("div",Pt,[(d(!0),c(N,null,z(o.orderItems||o.items,u=>(d(),c("div",{key:u.id,class:"order-item"},[t("div",Ft,[t("h3",null,r(j(u)),1),t("p",Nt,r(W(u)),1),t("div",Et,[t("span",null,"æ•°é‡: "+r(u.quantity),1),t("span",null,"å•ä»·: Â¥"+r(R(u).toFixed(2)),1)])])]))),128))]),t("div",Lt,[t("div",qt," æ€»è®¡: Â¥"+r(o.totalAmount.toFixed(2)),1),t("div",zt,[t("button",{onClick:u=>ke(o.id),class:"view-btn"}," æŸ¥çœ‹è¯¦æƒ… ",8,Ut)])])]))),128))]),t("div",Yt,[Y.value>0?(d(),ue(l,{key:0,background:"",layout:"prev, pager, next, jumper",total:Y.value,"page-size":x.value,"current-page":T.value,onCurrentChange:De},null,8,["total","page-size","current-page"])):A("",!0)])])])):A("",!0)]))])])]),$(g,{modelValue:Q.value,"onUpdate:modelValue":e[6]||(e[6]=o=>Q.value=o),title:"è®¢å•è¯¦æƒ…",width:"600px",center:"","close-on-click-modal":!1},{footer:q(()=>[t("span",os,[$(a,{onClick:e[5]||(e[5]=o=>Q.value=!1)},{default:q(()=>e[19]||(e[19]=[te("å…³é—­")])),_:1})])]),default:q(()=>[K.value?(d(),c("div",Qt,e[13]||(e[13]=[t("p",null,"åŠ è½½ä¸­...",-1)]))):y.value?(d(),c("div",jt,[t("div",Wt,[t("div",Rt,[e[14]||(e[14]=t("span",{class:"detail-label"},"è®¢å•å·:",-1)),t("span",Ht,r(y.value.orderNumber),1)]),t("div",Kt,[e[15]||(e[15]=t("span",{class:"detail-label"},"ä¸‹å•æ—¶é—´:",-1)),t("span",Gt,r(J(y.value.orderDate)),1)]),t("div",Jt,[e[16]||(e[16]=t("span",{class:"detail-label"},"è®¢å•çŠ¶æ€:",-1)),t("span",Xt,r(Ce(y.value.status)),1)])]),t("div",Zt,[t("table",es,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",null,"ä¹¦å"),t("th",null,"ä½œè€…"),t("th",null,"å•ä»·"),t("th",null,"æ•°é‡"),t("th",null,"å°è®¡")])],-1)),t("tbody",null,[(d(!0),c(N,null,z(y.value.orderItems||y.value.items,o=>(d(),c("tr",{key:o.id},[t("td",null,r(j(o)),1),t("td",null,r(W(o)),1),t("td",null,"Â¥"+r(R(o).toFixed(2)),1),t("td",null,r(o.quantity),1),t("td",null,"Â¥"+r((R(o)*o.quantity).toFixed(2)),1)]))),128))])])]),t("div",ts,[t("div",ss,[e[18]||(e[18]=te(" æ€»è®¡: ")),t("span",as,"Â¥"+r(y.value.totalAmount.toFixed(2)),1)])])])):A("",!0)]),_:1},8,["modelValue"])],64)}}}),cs=qe(ls,[["__scopeId","data-v-6daaddc9"]]);export{cs as default};
